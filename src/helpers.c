#include "helpers.h"

#include <REG52.H>

// ==============================================================================
// =========================Delay Functionality START ===========================
// ==============================================================================
void timer0_delay1ms(void) {
    TMOD |= 0x01;
    
    TH0 = 0xFC;
    TL0 = 0x67;

    TF0 = 0;
    TR0 = 1;
    while(TF0 == 0);
    TR0 = 0;
}


void delay_ms(unsigned int ms) {
    unsigned int i;
    for(i = 0; i < ms; i++) {
        timer0_delay1ms();
    }
}

U8 popcount(U8 x) {
    U8 c = 0;
    while (x) { x &= (x - 1); c++; }
    return c;
}
// ==============================================================================
// =========================Delay Functionality END =============================
// ==============================================================================